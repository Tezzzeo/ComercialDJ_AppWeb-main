<div class="container">
    <div class="alert alert-dark">
        <span class="titulo">Pedido</span><span class="subtitulo"> {{titulo}}</span>
      </div>
            <div class="row">
                <div class="col-md-6">
                    <form action="" method="post" *ngIf="mostrarFormulario">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-floating mb-3">
                                    <input type="number" class="form-control" name="numbercompra" id="numbercompra"  placeholder='' [(ngModel)]="pedidocompras.numbercompra">
                                    <label for="numbercompra">Numero de Compra</label>
                                  </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-floating mb-3">
                                    <input type="date" class="form-control" name="fechapedido" id="fechapedido"  placeholder='' [(ngModel)]="pedidocompras.fechapedido">
                                    <label for="fechapedido">Fecha de Pedido</label>
                                  </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="codtrabajador">Trabajador</label>
                                    <select class="form-control" name="codtrabajador" [(ngModel)]="pedidocompras.codtrabajador">
                                        <option *ngFor="let trabajador of trabajador" [value]="trabajador.codtrabajador">{{ trabajador.nombretrabajador }}</option>
                                      </select>
                                </div>
                            </div>
                            <button class="btn btn-success w-50 text-white mx-auto d-block mt-4" (click)="createpedido()">Generar Pedido</button>
                        </div>
                    </form>
                    <hr class="border border-secondary border-3 opacity-75">
                    <form action="" method="post">
                        <div class="col-md-12">
                            <div class="form-floating mb-3">
                                <input type="text" class="form-control" name="idpedido" id="idpedido"  placeholder='' [(ngModel)]="detallepedidocompras.idpedido" value="{{ detallepedidocompras.idpedido }}">
                                <label for="idpedido">Numero de Pedido</label>
                              </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="codproducto">Producto</label>
                                <select class="form-control" name="codproducto" [(ngModel)]="detallepedidocompras.codproducto">
                                    <option *ngFor="let producto of producto" [value]="producto.codproducto">{{ producto.nombreproducto }}</option>
                                  </select>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-floating mb-3">
                                <input type="number" class="form-control" name="cantidadproductos" id="cantidadproductos"  placeholder='' [(ngModel)]="detallepedidocompras.cantidadproductos">
                                <label for="cantidadproductos">Cantidad de Producto</label>
                            </div>
                        </div>
                        <button class="btn btn-warning w-50 text-white mx-auto d-block" (click)="createdetalle()">Agregar Producto</button>
                    </form>
                </div>
                <div class="col-md-6">
                    <table class="table table-hover table table-responsive" *ngIf="detallepedidocompraslista && detallepedidocompraslista.length > 0; else noData">
                        <thead>
                          <tr>
                            <th>ID Detalle</th>
                            <th>ID Pedido</th>
                            <th>CÃ³digo Producto</th>
                            <th>Cantidad Productos</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let detallepedidocompra of detallepedidocompraslista">
                            <td>{{detallepedidocompra.iddetalle}}</td>
                            <td>{{detallepedidocompra.idpedido}}</td>
                            <td>{{detallepedidocompra.codproducto}}</td>
                            <td>{{detallepedidocompra.cantidadproductos}}</td>
                          </tr>
                        </tbody>
                      </table>
                      <ng-template #noData>
                        <img src="../../assets/images/compraventa.jpg" alt="" srcset="">
                      </ng-template>
                </div>
            </div>
    </div>
